# Grafana Helm values
# Chart: grafana/grafana

# Admin設定
adminUser: admin
adminPassword: admin

# Persistence
persistence:
  enabled: true
  size: 10Gi

# リソース制限
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi

# Datasources設定
datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        access: proxy
        url: http://prometheus-server:80
        isDefault: true
        editable: false

      - name: Loki
        type: loki
        access: proxy
        url: http://loki:3100
        editable: false

      - name: Tempo
        type: tempo
        access: proxy
        url: http://tempo:3100
        editable: false
        jsonData:
          tracesToLogsV2:
            datasourceUid: loki
          tracesToMetrics:
            datasourceUid: prometheus
          serviceMap:
            datasourceUid: prometheus

# Dashboards設定
# dashboardProviders:
#   dashboardproviders.yaml:
#     apiVersion: 1
#     providers:
#       - name: default
#         orgId: 1
#         folder: ""
#         type: file
#         disableDeletion: false
#         editable: true
#         options:
#           path: /var/lib/grafana/dashboards/default

# DashboardsのインポートはConfigMapから
# dashboardsConfigMaps:
#   default: grafana-dashboards

# Service設定
service:
  type: ClusterIP
  port: 80
